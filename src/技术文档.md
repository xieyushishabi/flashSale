
# ç§’æ€ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç§’æ€ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå®ç°äº†ç”¨æˆ·è®¤è¯ã€å•†å“ç®¡ç†ã€ç§’æ€ä¸‹å•ã€å®æ—¶é€šä¿¡ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆæ€»è§ˆ

```
å‰ç«¯: React + TypeScript + Tailwind CSS + SWR
åç«¯: Node.js + Hono + MongoDB 
ç¼“å­˜: Redis (Mockå®ç°)
æœç´¢: Elasticsearch (Mockå®ç°)  
æ¶ˆæ¯é˜Ÿåˆ—: RabbitMQ (Mockå®ç°)
å®æ—¶é€šä¿¡: WebSocket (Mockå®ç°)
èº«ä»½éªŒè¯: JWT (è‡ªå®ç°ç‰ˆæœ¬)
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ (React)   â”‚â—„â”€â”€â”€â”¤  APIç½‘å…³ (Hono) â”‚â—„â”€â”€â”€â”¤  æ•°æ®å±‚ (MongoDB) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼“å­˜å±‚ (Redis)   â”‚    â”‚ æ¶ˆæ¯é˜Ÿåˆ— (RabbitMQ)â”‚    â”‚ æœç´¢å¼•æ“ (ES)    â”‚
â”‚    ğŸ”¸ MOCK      â”‚    â”‚    ğŸ”¸ MOCK      â”‚    â”‚    ğŸ”¸ MOCK      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» å‰ç«¯æŠ€æœ¯å®ç°

### React + TypeScript
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°**
- **æ ¸å¿ƒæ–‡ä»¶**: `/App.tsx`, `/pages/`, `/components/`
- **åŠŸèƒ½**: ç”¨æˆ·ç•Œé¢æ„å»ºã€ç»„ä»¶åŒ–å¼€å‘ã€ç±»å‹å®‰å…¨
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const HomePage: React.FC = () => {
  const [products, setProducts] = useState<Product[]>([]);
  return <div>...</div>;
};
```

### SWRæ•°æ®è·å–
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°**  
- **åŠŸèƒ½**: APIæ•°æ®ç¼“å­˜ã€çŠ¶æ€ç®¡ç†ã€é”™è¯¯å¤„ç†
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const { data, error, mutate } = useSWR(
  `${API_BASE}/api/products`,
  fetcher
);
```

### Tailwind CSS
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°**
- **åŠŸèƒ½**: åŸå­åŒ–CSSã€å“åº”å¼è®¾è®¡ã€å¿«é€Ÿæ ·å¼å¼€å‘

## ğŸ”§ åç«¯æŠ€æœ¯å®ç°

### Node.js + Hono
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°**
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/index.ts`
- **åŠŸèƒ½**: æœåŠ¡ç«¯è¿è¡Œç¯å¢ƒã€HTTPæœåŠ¡æ¡†æ¶
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const rootApp = new Hono();
rootApp.use('*', cors());
rootApp.route('/api/auth', authRoutes);
```

### MongoDBæ•°æ®åº“
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°**
- **åŠŸèƒ½**: æŒä¹…åŒ–æ•°æ®å­˜å‚¨ã€æ–‡æ¡£æ•°æ®åº“
- **æ•°æ®è¡¨è®¾è®¡**:
  - `12a2d3dc_users` - ç”¨æˆ·ä¿¡æ¯
  - `12a2d3dc_products` - å•†å“ä¿¡æ¯  
  - `12a2d3dc_orders` - è®¢å•è®°å½•
  - `12a2d3dc_seckill_logs` - ç§’æ€æ—¥å¿—

- **ä½¿ç”¨æ–¹å¼**:
```typescript
const users = await db.collection('12a2d3dc_users').find().toArray();
const result = await db.collection('12a2d3dc_orders').insertOne(order);
```

## ğŸ” èº«ä»½éªŒè¯ç³»ç»Ÿ

### JWTä»¤ç‰Œè®¤è¯
- **æŠ€æœ¯ç±»å‹**: âœ… **çœŸå®å®ç°** (è‡ªå®ç°ç‰ˆæœ¬)
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/utils/jwt.ts`
- **åŠŸèƒ½**: ç”¨æˆ·èº«ä»½éªŒè¯ã€ä»¤ç‰Œç”Ÿæˆå’ŒéªŒè¯
- **å®ç°ç‰¹ç‚¹**: 
  - é¿å…ä½¿ç”¨Node.js cryptoæ¨¡å—
  - ä½¿ç”¨ç®€å•å“ˆå¸Œå‡½æ•°è¿›è¡Œç­¾å
  - æ”¯æŒè¿‡æœŸæ—¶é—´ç®¡ç†

- **ä½¿ç”¨æ–¹å¼**:
```typescript
// ç”Ÿæˆä»¤ç‰Œ
const token = await generateToken(userId, username);

// éªŒè¯ä»¤ç‰Œ  
const payload = await verifyToken(token);
```

## ğŸ“¦ ç¼“å­˜ç³»ç»Ÿ ğŸ”¸ MOCK

### Redisç¼“å­˜
- **æŠ€æœ¯ç±»å‹**: ğŸ”¸ **Mockå®ç°**
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/utils/redis.ts`
- **Mockç±»**: `MockRedis`
- **åŠŸèƒ½è¦†ç›–**:
  - é”®å€¼å­˜å‚¨ (set/get)
  - è¿‡æœŸæ—¶é—´ç®¡ç† (setex)
  - åŸå­æ“ä½œ (incr/decr)
  - åˆ†å¸ƒå¼é”æœºåˆ¶

- **ä½¿ç”¨æ–¹å¼**:
```typescript
// åº“å­˜ç®¡ç†
await SeckillStockManager.initStock(productId, stock);
const success = await SeckillStockManager.decrementStock(productId);

// åˆ†å¸ƒå¼é”
const lockAcquired = await SeckillStockManager.acquireSeckillLock(productId, userId);
```

- **Mockå®ç°åŸç†**:
```typescript
class MockRedis {
  private data: Map<string, any> = new Map();
  private expiry: Map<string, number> = new Map();
  
  async set(key: string, value: any, options?: { ex?: number }) {
    this.data.set(key, JSON.stringify(value));
    if (options?.ex) {
      this.expiry.set(key, Date.now() + options.ex * 1000);
    }
  }
}
```

## ğŸ” æœç´¢å¼•æ“ ğŸ”¸ MOCK

### Elasticsearchæœç´¢
- **æŠ€æœ¯ç±»å‹**: ğŸ”¸ **Mockå®ç°**
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/utils/elasticsearch.ts`
- **Mockç±»**: `MockElasticsearch`
- **åŠŸèƒ½è¦†ç›–**:
  - å•†å“ç´¢å¼•ç®¡ç†
  - å…¨æ–‡æœç´¢
  - ä»·æ ¼èŒƒå›´è¿‡æ»¤
  - åˆ†é¡µæŸ¥è¯¢

- **ä½¿ç”¨æ–¹å¼**:
```typescript
// ç´¢å¼•å•†å“
await ProductSearchService.indexProduct(product);

// æœç´¢å•†å“
const result = await ProductSearchService.searchProducts({
  text: "iPhone",
  minPrice: 1000,
  maxPrice: 5000,
  page: 1,
  pageSize: 10
});
```

- **Mockå®ç°åŸç†**:
```typescript
class MockElasticsearch {
  private products: Product[] = [];
  
  async search(query: SearchQuery) {
    let results = [...this.products];
    
    // æ–‡æœ¬æœç´¢
    if (query.text) {
      results = results.filter(product => 
        product.name.toLowerCase().includes(query.text.toLowerCase())
      );
    }
    
    // ä»·æ ¼è¿‡æ»¤
    if (query.minPrice) {
      results = results.filter(p => p.seckillPrice >= query.minPrice);
    }
    
    return { hits: results, total: results.length };
  }
}
```

## ğŸ“¨ æ¶ˆæ¯é˜Ÿåˆ— ğŸ”¸ MOCK

### RabbitMQæ¶ˆæ¯é˜Ÿåˆ—
- **æŠ€æœ¯ç±»å‹**: ğŸ”¸ **Mockå®ç°**
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/utils/rabbitmq.ts`
- **Mockç±»**: `MockRabbitMQ`
- **é˜Ÿåˆ—è®¾è®¡**:
  - `order.processing` - è®¢å•å¤„ç†é˜Ÿåˆ—
  - `seckill.notifications` - ç§’æ€é€šçŸ¥é˜Ÿåˆ—
  - `stats.update` - ç»Ÿè®¡æ›´æ–°é˜Ÿåˆ—

- **åŠŸèƒ½è¦†ç›–**:
  - æ¶ˆæ¯å‘å¸ƒ/è®¢é˜…
  - æ¶ˆè´¹è€…æ³¨å†Œ
  - é‡è¯•æœºåˆ¶
  - æ­»ä¿¡å¤„ç†

- **ä½¿ç”¨æ–¹å¼**:
```typescript
// å‘å¸ƒè®¢å•æ¶ˆæ¯
await MessagePublisher.publishOrderMessage(orderId, userId, productId);

// æ³¨å†Œæ¶ˆè´¹è€…
await rabbitmq.consume(QueueNames.ORDER_PROCESSING, async (message) => {
  // å¤„ç†è®¢å•é€»è¾‘
  console.log('å¤„ç†è®¢å•:', message.data);
});
```

- **Mockå®ç°åŸç†**:
```typescript
class MockRabbitMQ {
  private queues: Map<string, QueueMessage[]> = new Map();
  private consumers: Map<string, Array<MessageHandler>> = new Map();

  async publishMessage(queueName: string, message: QueueMessage) {
    const queue = this.queues.get(queueName);
    queue.push(message);
    
    // å¼‚æ­¥å¤„ç†æ¶ˆæ¯
    setImmediate(() => this.processMessage(queueName));
  }
}
```

## ğŸŒ å®æ—¶é€šä¿¡ ğŸ”¸ MOCK

### WebSocketæœåŠ¡
- **æŠ€æœ¯ç±»å‹**: ğŸ”¸ **Mockå®ç°**  
- **æ ¸å¿ƒæ–‡ä»¶**: `/server/websocket.ts`
- **åŠŸèƒ½è¦†ç›–**:
  - è¿æ¥ç®¡ç†
  - æ¶ˆæ¯å¹¿æ’­
  - åº“å­˜å®æ—¶æ¨é€
  - è®¢å•çŠ¶æ€é€šçŸ¥

- **ä½¿ç”¨æ–¹å¼**:
```typescript
// å‘é€åº“å­˜æ›´æ–°
WebSocketService.sendStockUpdate(productId, stockLeft);

// å‘é€è®¢å•çŠ¶æ€
WebSocketService.sendOrderStatus(userId, orderId, 'confirmed');
```

- **Mockå®ç°åŸç†**:
```typescript
class WebSocketServiceClass {
  private connections: Map<string, any> = new Map();

  sendStockUpdate(productId: string, stockLeft: number) {
    const message = {
      type: 'stock_update',
      productId,
      data: { stockLeft }
    };
    this.broadcast(message);
  }
}
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)
```sql
{
  username: string,     // ç”¨æˆ·å
  email: string,        // é‚®ç®± (å”¯ä¸€)
  password: string,     // å¯†ç å“ˆå¸Œ
  avatar: string,       // å¤´åƒURL
  createdAt: Date,      // åˆ›å»ºæ—¶é—´
  updatedAt: Date       // æ›´æ–°æ—¶é—´
}
```

### å•†å“è¡¨ (products)
```sql
{
  name: string,         // å•†å“åç§°
  description: string,  // å•†å“æè¿°
  originalPrice: number,// åŸä»·
  seckillPrice: number, // ç§’æ€ä»·
  stock: number,        // åº“å­˜æ•°é‡
  image: string,        // å•†å“å›¾ç‰‡
  startTime: Date,      // ç§’æ€å¼€å§‹æ—¶é—´
  endTime: Date,        // ç§’æ€ç»“æŸæ—¶é—´
  status: string,       // çŠ¶æ€ (pending/active/ended)
  createdAt: Date,      // åˆ›å»ºæ—¶é—´
  updatedAt: Date       // æ›´æ–°æ—¶é—´
}
```

### è®¢å•è¡¨ (orders)
```sql
{
  userId: string,       // ç”¨æˆ·ID
  productId: string,    // å•†å“ID  
  quantity: number,     // è´­ä¹°æ•°é‡
  price: number,        // è´­ä¹°ä»·æ ¼
  status: string,       // è®¢å•çŠ¶æ€ (pending/confirmed/cancelled)
  createdAt: Date,      // åˆ›å»ºæ—¶é—´
  updatedAt: Date       // æ›´æ–°æ—¶é—´
}
```

### ç§’æ€æ—¥å¿—è¡¨ (seckill_logs)
```sql
{
  userId: string,       // ç”¨æˆ·ID
  productId: string,    // å•†å“ID
  action: string,       // æ“ä½œç±»å‹ (seckill_attempt)
  result: string,       // æ“ä½œç»“æœ (success/failure)
  timestamp: Date,      // æ“ä½œæ—¶é—´
  createdAt: Date,      // åˆ›å»ºæ—¶é—´
  updatedAt: Date       // æ›´æ–°æ—¶é—´
}
```

## ğŸš€ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### 1. ç”¨æˆ·è®¤è¯æµç¨‹
```
POST /api/auth/login
â”œâ”€â”€ å¯†ç éªŒè¯ (ç®€å•å“ˆå¸Œ) âœ… çœŸå®å®ç°
â”œâ”€â”€ JWTä»¤ç‰Œç”Ÿæˆ âœ… çœŸå®å®ç°  
â”œâ”€â”€ Redisä¼šè¯ç¼“å­˜ ğŸ”¸ Mock
â””â”€â”€ è¿”å›ç”¨æˆ·ä¿¡æ¯
```

### 2. ç§’æ€ä¸‹å•æµç¨‹
```
POST /api/seckill
â”œâ”€â”€ JWTèº«ä»½éªŒè¯ âœ… çœŸå®å®ç°
â”œâ”€â”€ åˆ†å¸ƒå¼é”è·å– ğŸ”¸ Mock Redis
â”œâ”€â”€ åº“å­˜åŸå­æ‰£å‡ ğŸ”¸ Mock Redis  
â”œâ”€â”€ è®¢å•å†™å…¥DB âœ… çœŸå®å®ç°
â”œâ”€â”€ æ¶ˆæ¯é˜Ÿåˆ—é€šçŸ¥ ğŸ”¸ Mock RabbitMQ
â””â”€â”€ WebSocketæ¨é€ ğŸ”¸ Mock
```

### 3. å•†å“æœç´¢æµç¨‹
```
GET /api/products?search=iPhone
â”œâ”€â”€ Elasticsearchæœç´¢ ğŸ”¸ Mock
â”œâ”€â”€ MongoDBæ•°æ®è¡¥å…… âœ… çœŸå®å®ç°
â”œâ”€â”€ Redisåº“å­˜åŒæ­¥ ğŸ”¸ Mock
â””â”€â”€ è¿”å›æœç´¢ç»“æœ
```

## ğŸ“¡ APIæ¥å£æ–‡æ¡£

### èº«ä»½éªŒè¯æ¥å£

#### ç”¨æˆ·ç™»å½•
- **æ¥å£**: `POST /api/auth/login`
- **å‚æ•°**: `{ email: string, password: string }`
- **è¿”å›**: `{ success: boolean, data: { token: string, user: User } }`

#### è·å–ç”¨æˆ·ä¿¡æ¯
- **æ¥å£**: `GET /api/auth/me`
- **è¯·æ±‚å¤´**: `Authorization: Bearer <token>`
- **è¿”å›**: `{ success: boolean, data: User }`

### å•†å“ç®¡ç†æ¥å£

#### è·å–å•†å“åˆ—è¡¨
- **æ¥å£**: `GET /api/products`
- **å‚æ•°**: `page, pageSize, search, status, minPrice, maxPrice`
- **è¿”å›**: `{ success: boolean, data: ProductsResponse }`

#### åˆå§‹åŒ–æ•°æ®
- **æ¥å£**: `POST /api/products/init`
- **åŠŸèƒ½**: åˆ›å»ºç¤ºä¾‹å•†å“å’Œç”¨æˆ·æ•°æ®
- **è¿”å›**: `{ success: boolean, message: string }`

### ç§’æ€ä¸šåŠ¡æ¥å£

#### ç§’æ€ä¸‹å•
- **æ¥å£**: `POST /api/seckill`
- **è¯·æ±‚å¤´**: `Authorization: Bearer <token>`
- **å‚æ•°**: `{ productId: string, quantity: number }`
- **è¿”å›**: `{ success: boolean, data: { orderId: string, stockLeft: number } }`

#### è·å–ç”¨æˆ·è®¢å•
- **æ¥å£**: `GET /api/seckill/orders`
- **è¯·æ±‚å¤´**: `Authorization: Bearer <token>`
- **è¿”å›**: `{ success: boolean, data: Order[] }`

#### è·å–ç»Ÿè®¡æ•°æ®
- **æ¥å£**: `GET /api/seckill/stats`
- **è¿”å›**: `{ success: boolean, data: SeckillStats }`

## âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ç¼“å­˜ç­–ç•¥
- **Redisåº“å­˜ç¼“å­˜** ğŸ”¸ Mock: é¿å…é¢‘ç¹æŸ¥è¯¢æ•°æ®åº“
- **ç”¨æˆ·ä¼šè¯ç¼“å­˜** ğŸ”¸ Mock: å‡å°‘JWTéªŒè¯å¼€é”€
- **å‰ç«¯SWRç¼“å­˜** âœ… çœŸå®: å‡å°‘é‡å¤APIè¯·æ±‚

### 2. å¹¶å‘æ§åˆ¶
- **åˆ†å¸ƒå¼é”** ğŸ”¸ Mock Redis: é˜²æ­¢è¶…å–
- **åŸå­æ“ä½œ** ğŸ”¸ Mock Redis: ä¿è¯åº“å­˜ä¸€è‡´æ€§
- **æ¶ˆæ¯é˜Ÿåˆ—** ğŸ”¸ Mock RabbitMQ: å¼‚æ­¥å¤„ç†è®¢å•

### 3. æœç´¢ä¼˜åŒ–
- **Elasticsearchç´¢å¼•** ğŸ”¸ Mock: é«˜æ€§èƒ½å…¨æ–‡æœç´¢
- **åˆ†é¡µæŸ¥è¯¢**: å‡å°‘æ•°æ®ä¼ è¾“é‡
- **å­—æ®µè¿‡æ»¤**: åªè¿”å›å¿…è¦å­—æ®µ

## ğŸ”§ MockæœåŠ¡è¯´æ˜

### ä¸ºä»€ä¹ˆä½¿ç”¨Mock?

1. **ç®€åŒ–éƒ¨ç½²** - é¿å…ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼Œé™ä½è¿è¡Œç¯å¢ƒå¤æ‚åº¦
2. **å¼€å‘ä¾¿åˆ©** - å¿«é€Ÿå¯åŠ¨å¼€å‘ç¯å¢ƒï¼Œæ— éœ€é…ç½®Redisã€Elasticsearchç­‰
3. **æ¼”ç¤ºç›®çš„** - å±•ç¤ºå®Œæ•´çš„æŠ€æœ¯æ¶æ„å’Œä¸šåŠ¡æµç¨‹
4. **æˆæœ¬æ§åˆ¶** - é¿å…ä¸ºæ¼”ç¤ºé¡¹ç›®éƒ¨ç½²æ˜‚è´µçš„å¤–éƒ¨æœåŠ¡

### Mock vs çœŸå®å®ç°å¯¹æ¯”

| æœåŠ¡ | Mockå®ç° | çœŸå®å®ç° | ç”Ÿäº§ç¯å¢ƒå»ºè®® |
|------|----------|----------|-------------|
| Redis | å†…å­˜Mapæ¨¡æ‹Ÿ | Redisé›†ç¾¤ | ä½¿ç”¨Redisé›†ç¾¤ |
| Elasticsearch | æ•°ç»„è¿‡æ»¤ | ESé›†ç¾¤ | ä½¿ç”¨ESé›†ç¾¤ |
| RabbitMQ | å†…å­˜é˜Ÿåˆ— | RabbitMQé›†ç¾¤ | ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é›†ç¾¤ |
| WebSocket | ç®€å•å¹¿æ’­ | Socket.IO | ä½¿ç”¨æˆç†Ÿçš„WebSocketæ–¹æ¡ˆ |
| MongoDB | âœ… çœŸå®æ•°æ®åº“ | âœ… çœŸå®æ•°æ®åº“ | ç»§ç»­ä½¿ç”¨ |
| JWT | âœ… è‡ªå®ç° | ç¬¬ä¸‰æ–¹åº“ | å¯å‡çº§ä¸ºæˆç†Ÿæ–¹æ¡ˆ |

### ç”Ÿäº§ç¯å¢ƒè¿ç§»æŒ‡å—

1. **Redisæ›¿æ¢**:
```typescript
// æ›¿æ¢ MockRedis ä¸ºçœŸå®Rediså®¢æˆ·ç«¯
import Redis from 'ioredis';
const redis = new Redis(process.env.REDIS_URL);
```

2. **Elasticsearchæ›¿æ¢**:
```typescript
// æ›¿æ¢ MockElasticsearch ä¸ºçœŸå®ESå®¢æˆ·ç«¯
import { Client } from '@elastic/elasticsearch';
const client = new Client({ node: process.env.ES_URL });
```

3. **RabbitMQæ›¿æ¢**:
```typescript
// æ›¿æ¢ MockRabbitMQ ä¸ºçœŸå®RabbitMQ
import amqp from 'amqplib';
const connection = await amqp.connect(process.env.RABBITMQ_URL);
```

## ğŸ“ é¡¹ç›®æ€»ç»“

æœ¬ç§’æ€ç³»ç»Ÿå±•ç¤ºäº†å®Œæ•´çš„ç”µå•†ç§’æ€ä¸šåŠ¡æµç¨‹ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹:

### ä¼˜åŠ¿
- **å®Œæ•´çš„ä¸šåŠ¡é“¾è·¯**: ç”¨æˆ·è®¤è¯ â†’ å•†å“æµè§ˆ â†’ ç§’æ€ä¸‹å• â†’ è®¢å•ç®¡ç†
- **é«˜å¹¶å‘è®¾è®¡**: åˆ†å¸ƒå¼é”ã€åº“å­˜æ‰£å‡ã€æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†
- **å®æ—¶æ€§**: WebSocketæ¨é€åº“å­˜å’Œè®¢å•çŠ¶æ€æ›´æ–°  
- **æœç´¢èƒ½åŠ›**: æ”¯æŒå•†å“å…¨æ–‡æœç´¢å’Œå¤šç»´åº¦è¿‡æ»¤
- **æ˜“äºéƒ¨ç½²**: MockæœåŠ¡é™ä½äº†ç¯å¢ƒä¾èµ–å¤æ‚åº¦

### æŠ€æœ¯äº®ç‚¹
- **ç±»å‹å®‰å…¨**: å…¨ç¨‹TypeScriptï¼Œå‰åç«¯ç±»å‹ä¸€è‡´
- **RESTfulè®¾è®¡**: æ ‡å‡†çš„APIè®¾è®¡ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
- **æ¨¡å—åŒ–æ¶æ„**: ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### é€‚ç”¨åœºæ™¯
- **æŠ€æœ¯å­¦ä¹ **: äº†è§£ç§’æ€ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„å’Œå®ç°æ–¹å¼
- **åŸå‹å¼€å‘**: å¿«é€Ÿæ„å»ºç§’æ€ç³»ç»ŸåŸå‹  
- **é¢è¯•å±•ç¤º**: å±•ç¤ºå…¨æ ˆå¼€å‘å’Œç³»ç»Ÿè®¾è®¡èƒ½åŠ›
- **æŠ€æœ¯æ–¹æ¡ˆéªŒè¯**: éªŒè¯ç‰¹å®šæŠ€æœ¯æ–¹æ¡ˆçš„å¯è¡Œæ€§

æœ¬é¡¹ç›®ä¸ºå­¦ä¹ å’Œæ¼”ç¤ºç›®çš„è€Œè®¾è®¡ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”å°†MockæœåŠ¡æ›¿æ¢ä¸ºçœŸå®çš„å¤–éƒ¨æœåŠ¡å®ç°ã€‚
```